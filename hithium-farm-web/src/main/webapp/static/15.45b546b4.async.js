(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{AQsL:function(e,t,a){"use strict";var n=a("g09b"),r=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var l=n(a("bx4M"));a("g9YV");var o=n(a("wCAj"));a("+L6B");var i=n(a("2/Rp"));a("6UJt");var u=n(a("DFOY")),c=n(a("gWZ8")),d=n(a("p0pE")),s=n(a("2Taf")),f=n(a("vZ4D")),h=n(a("l4Ni")),p=n(a("ujKo")),g=n(a("MhPg"));a("y8nQ");var m,v,y,w=n(a("Vl3Y")),b=r(a("q1tI")),L=a("MuoO"),S=n(a("wY1l")),E=n(a("zHco")),C=n(a("eP9J")),N=w.default.Item,D=(m=(0,L.connect)(function(e){var t=e.home,a=e.device,n=e.loading;return{home:t,geographicList:a.geographicList,tableLoading:n.effects["home/getAreaList"]}}),m((y=function(e){function t(){var e,a;(0,s.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,h.default)(this,(e=(0,p.default)(t)).call.apply(e,[this].concat(r))),a.state={searchData:{page:1,pageSize:10},area:[]},a.getList=function(){var e=a.props.dispatch,t=a.state.searchData;e({type:"home/getAreaList",payload:(0,d.default)({},t)})},a.showTotal=function(e,t){return b.default.createElement("span",null,"\u663e\u793a\u7b2c".concat(t[0],"\u5230\u7b2c ").concat(t[1]," \u6761\u8bb0\u5f55\uff0c\u603b\u5171 ").concat(e," \u6761\u8bb0\u5f55"))},a.handleReset=function(){a.setState({area:[]},function(){a.handleSubmit()})},a.handleTableChange=function(e,t,n){var r=a.state.searchData,l=n.order&&n.columnKey||"",o=n.order?"descend"===n.order?-1:1:"";a.setState({searchData:(0,d.default)({},r,{page:e.current,pageSize:e.pageSize,orderField:l,order:o})},function(){a.getList()})},a.handleSubmit=function(){var e=a.state,t=e.searchData,n=e.area,r="",l="";if(1===n.length){var o=(0,c.default)(n);r=o[0]}else if(2===n.length){var i=(0,c.default)(n);r=i[0],l=i[1]}var u=(0,d.default)({},t,{province:r,cityName:l,page:1});a.setState({searchData:u},function(){a.getList()})},a.onChange=function(e){a.setState({area:e})},a}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.geographicList;this.getList(),a.length||t({type:"device/getGeographicList"})}},{key:"render",value:function(){var e=this.props,t=e.tableLoading,a=e.home,n=e.geographicList,r=a.areaList,c=a.areaPage,s=this.state.area,f=[{title:"\u5e8f\u53f7",dataIndex:"cityName",width:100,render:function(e,t,a){return(c.current-1)*c.pageSize+a+1}},{title:"\u57fa\u7ad9\u5730\u533a",render:function(e){return b.default.createElement(S.default,{to:"/management/group?cityName=".concat(e.cityName,"&provinceName=").concat(e.provinceName)},e.cityName)}},{title:"\u8bbe\u5907\u603b\u6570\uff08\u53f0\uff09",sorter:!0,dataIndex:"total"}];return b.default.createElement(E.default,null,b.default.createElement(l.default,{bordered:!1,bodyStyle:{padding:0}},b.default.createElement(w.default,{layout:"inline",hideRequiredMark:!0},b.default.createElement(N,null,b.default.createElement(u.default,{options:n,onChange:this.onChange,changeOnSelect:!0,value:s,placeholder:"\u57fa\u7ad9\u5730\u533a",showSearch:function(e,t){t.some(function(t){return t.label.toLowerCase().indexOf(e.toLowerCase())>-1})}})),b.default.createElement(N,null,b.default.createElement(i.default,{type:"primary",onClick:this.handleSubmit},"\u641c\u7d22")),b.default.createElement(N,null,b.default.createElement(i.default,{onClick:this.handleReset},"\u91cd\u7f6e"))),b.default.createElement(o.default,{className:C.default.myTable,rowKey:function(e){return e.cityName},dataSource:r,pagination:(0,d.default)({},c,{showSizeChanger:!0,showQuickJumper:!0,showTotal:this.showTotal}),columns:f,onChange:this.handleTableChange,loading:t})))}}]),t}(b.PureComponent),v=y))||v),T=D;t.default=T},eP9J:function(e,t,a){e.exports={myTable:"antd-pro\\pages\\-home\\-area-myTable"}}}]);